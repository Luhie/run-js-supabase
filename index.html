<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<style>
@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css");
body{font-family: 'Pretendard Variable';}
@keyframes heropy{
	0% {height:0px; width:0px;}
	100% {height:100px; width:100px;}

}
</style>
</head>
<body>
<div class='row'>
	<div class='col-8 m-auto'>
		<div class="card">
			<div class="card-header">Info</div>
			<div class="card-body">
				<div class='row'>
					<div class='col-3'>1</div>
					<div class='col-3'>2</div>
					<div class='col-3'>3</div>
					<div class='col-3'>4</div>
				</div>
			</div>
		</div>	
		<div class="card col-5">
		<form method='post' id='loginForm' name='loginForm'>
			<div class="card-header bg-warning">Info</div>
			<div class="card-body">
				<div class='row'>
					<div class='form-group'>
						<label for='userId'>ID</label>
						<input type='text' class='form-control' id='userId' name='login' placeholder="">
					</div>
					<div class='form-group'>
						<label for='userPW'>PW</label>
						<input type='password' class='form-control' id='userPw' name='login' value="password123" placeholder="ㅎㅎㅎ">
					</div>
				</div>
			</div>
			<div class='card-footer text-center'>
				<button type='button' class='btn btn-warning w-100' onclick="loginProc()">확인</button>
			</div>
		</form>
		</div>	
	</div>
</div>

<div id='view'>
	<button type='button' onclick="encryption()">암호화</button>

</div>
	
</body>
<script>
console.group('모듈 위입니다');

console.log(userPw)
console.groupEnd('모듈 위입니다');
</script>
<script type="module">
	import { cpt } from './static/js/cryption.js';
	import { Supabase } from './static/js/supabase.js';
	console.log('module 안입니다.')

	// db.get(1).then((v)=>{
	// 	v.forEach((e, i, arr)=>{
	// 		console.log(e.user_id);
	// 		console.log(i);

	// 	})

	// });


	window.encryption = async () =>{
		const crypt = new cpt();
		const hash = crypt.getHash(userPw.value);
		console.log(hash);
		const db = new Supabase();

		// await db.init();
		db.insert({"user_id":userId.value, "user_pw":hash}).then((v)=>{
			console.log(v);
		});

	}
</script>
<script>
console.group('모듈 아래 입니다');

const userId = document.getElementById('userId');
const userPw = document.getElementById('userPw');

console.log(userPw.value)
console.groupEnd('모듈 아래 입니다');


/*** 비동기적으로 실행
function loadScript(src, callback){
let script = document.createElement('script');
script.src = src;

script.onload = () => callback(script);
document.head.append(script);
}
// loadScript('check.js', function(){
// 	console.log('onload')
// });

const showCircle = (cx, cy, radius) => {

}

const button = document.createElement('button');
button.innerText = 'showCircle';
button.style.color='red';
button.type='button';
document.body.appendChild(button);
button.addEventListener('click',() => {
const div = document.createElement('div');
div.style.borderRadius = '50%';
div.style.backgroundColor = 'red';
div.style.animationName = 'heropy';
div.style.animationDuration = '5s';
// div.style.width = '100px';
// div.style.height = '100px';
document.body.appendChild(div);
console.log('hello');

})

 ***/
</script>

</html>
